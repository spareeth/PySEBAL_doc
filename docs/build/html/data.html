

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PySEBAL data requirements &mdash; PySEBAL_doc 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="PySEBAL Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PySEBAL_doc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">PySEBAL Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PySEBAL data requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#satellite-data">Satellite data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acquiring-landsat-data">Acquiring Landsat data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bulk-download-landsat-data-using-command-line">Bulk download Landsat data using command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#naming-convention-of-landsat-data">Naming convention of Landsat data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#meteo-data">Meteo data</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PySEBAL_doc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>PySEBAL data requirements</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pysebal-data-requirements">
<h1>PySEBAL data requirements<a class="headerlink" href="#pysebal-data-requirements" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>To run PySEBAL we need the following input data as shown below in the figure.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/data1.png"><img alt="_images/data1.png" src="_images/data1.png" style="width: 450px;" /></a>
<p class="caption"><span class="caption-text">List of input data required for PySEBAL</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="satellite-data">
<h2>Satellite data<a class="headerlink" href="#satellite-data" title="Permalink to this headline">¶</a></h2>
<p>Currently PySEBAL support data from Landsat 4/5/7/8, MODIS, PROBA-V/VIIRS sensors/satellites.
In this documentation currently PySEBAL using Landsat data as input is explained. But data from other satellites can be easily used by replacing the Landsat data,</p>
<div class="section" id="acquiring-landsat-data">
<h3>Acquiring Landsat data<a class="headerlink" href="#acquiring-landsat-data" title="Permalink to this headline">¶</a></h3>
<p>The main archive of Landsat satellite (all missions – TM/ETM/OLI) is earth explorer website: <a class="reference external" href="https://earthexplorer.usgs.gov/">https://earthexplorer.usgs.gov/</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>First step is to create user login for this website so that you are able to download the data.</p>
</div>
<p>Let us now search and download data for Miandoab irrigation scheme in Iran for the time period April to September 2018.</p>
<div class="line-block">
<div class="line"><strong>Step1</strong></div>
</div>
<div class="line-block">
<div class="line">In the “Search Criteria” tab type in your “address/place” of your interest, in this case “Miandoab” and click “enter” or search for Path/row - 168/034.</div>
</div>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/ls1.png"><img alt="_images/ls1.png" src="_images/ls1.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Setting the search criteria</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Click on the result (red box) and a location popup will appear over on the map.</p>
<div class="line-block">
<div class="line"><strong>Step2</strong></div>
</div>
<div class="line-block">
<div class="line">Now enter the date range for which data is required in the same tab.</div>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/ls2.png"><img alt="_images/ls2.png" src="_images/ls2.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Setting the date range</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="line-block">
<div class="line"><strong>Step3</strong></div>
</div>
<div class="line-block">
<div class="line">Select the datasets you want to search and set the additional criteria of those data with cloud cover less than 20%</div>
</div>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="_images/ls3.png"><img alt="_images/ls3.png" src="_images/ls3.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Setting additional criteria and listing results</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>Here we are selecting only Landsat 8 data. For previous years you can also try with Landsat 7 ETM, and Landsat 4/5 TM. Finally click the “Results” to see list of all available data with our conditions met for the study area in the given period of time.</p>
<div class="line-block">
<div class="line"><strong>Step4</strong></div>
</div>
<div class="line-block">
<div class="line">Check the listed scenes using browse images, select and download the 168/034 scene</div>
</div>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="_images/ls4.png"><img alt="_images/ls4.png" src="_images/ls4.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">List of available landsat 8 data for the given period of time</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>The image icon under each result can be used to see the preview of that landsat scene (see Figure above). The download icon can be used to download that single scene with out ordering. While the Bulk download icon can be used to get a single link to download multiple products at a time. More details on bulk download can be found here - <a class="reference external" href="https://www.usgs.gov/media/videos/eros-earthexplorer-how-do-a-bulk-download">https://www.usgs.gov/media/videos/eros-earthexplorer-how-do-a-bulk-download</a>.</p>
<div class="figure align-center" id="id6">
<a class="reference internal image-reference" href="_images/ls6.png"><img alt="_images/ls6.png" src="_images/ls6.png" style="width: 350px;" /></a>
<p class="caption"><span class="caption-text">Showing the preview image of a landsat scene</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>For example, image dated 22 June 2018 looks really good, click on the download icon to get the data. You have to login in order to download the data.</p>
<div class="figure align-center" id="id7">
<a class="reference internal image-reference" href="_images/ls5.png"><img alt="_images/ls5.png" src="_images/ls5.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Landsat download options, select the one highlighted</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>From the list of options download the “Level-1 GeoTIFF Data Product” to get all the spectral bands and metadata of the scene.</p>
</div>
<div class="section" id="bulk-download-landsat-data-using-command-line">
<h3>Bulk download Landsat data using command line<a class="headerlink" href="#bulk-download-landsat-data-using-command-line" title="Permalink to this headline">¶</a></h3>
<p>This section explains how you can download big amount of Landsat data from Google cloud bucket using command line.</p>
<div class="line-block">
<div class="line"><strong>Steps</strong></div>
</div>
<ul class="simple">
<li><p>Install gsutil library - <a class="reference external" href="https://pypi.org/project/gsutil/">https://pypi.org/project/gsutil/</a></p></li>
<li><p>If you want to list all the Landsat 8 data over Miandoab covering tile 168/034 in June 2018 use the following command:</p></li>
</ul>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>gsutil ls -d gs://gcp-public-data-landsat/LC08/01/168/034/LC08_L1TP_168034_201806*T1
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li><p>To download them, use the following command:</p></li>
</ul>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># &#39;.&#39; means it will download to present directory</span>
gsutil -m cp -r gs://gcp-public-data-landsat/LC08/01/168/034/LC08_L1TP_168034_201806*T1 .
</pre></div>
</td></tr></table></div>
<p>This <a class="reference external" href="https://shuzhanfan.github.io/2018/05/download-landsat8-data-from-google-cloud/">link</a> has more details on this approach.</p>
</div>
<div class="section" id="naming-convention-of-landsat-data">
<h3>Naming convention of Landsat data<a class="headerlink" href="#naming-convention-of-landsat-data" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id8">
<a class="reference internal image-reference" href="_images/ls7.png"><img alt="_images/ls7.png" src="_images/ls7.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Landsat data naming convention</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="meteo-data">
<h2>Meteo data<a class="headerlink" href="#meteo-data" title="Permalink to this headline">¶</a></h2>
<p>Meteo data is either obtained from field stations or from global models like GLDAS, ERA5, MERRA2 etc.
Here we will use instantaneous and daily average computed from GLDAS data. You can download 3 hourly GLDAS data from this web link: <a class="reference external" href="https://hydro1.gesdisc.eosdis.nasa.gov/data/GLDAS/GLDAS_NOAH025_3H.2.1/">https://hydro1.gesdisc.eosdis.nasa.gov/data/GLDAS/GLDAS_NOAH025_3H.2.1/</a></p>
<p>Once downloaded the data, we use GLDAS and GRASS GIS to compute the required meteo parameters for PySEBAL.
| The GLDAS data is provided in netCDF4 format with number of measured parameters as subdatasets. Let us assume that you have downloaded the GLDAS data for the 6 June 2018 00:00 hours.
| The file name will be <code class="docutils literal notranslate"><span class="pre">GLDAS_NOAH025_3H.A20180606.0000.021.nc4</span></code>.</p>
<p>Now let us do all the processing in GLDAS library and GRASS GIS already installed in your system.
| Open OSGeo4W Shell
| Type <code class="docutils literal notranslate"><span class="pre">grass78</span> <span class="pre">--gui</span></code> and enter
| It will open the following interface</p>
<p>Before we proceed with GRASS GIS we will set the linux environment in the OSGeo4W Shell. For that follow the commands below:</p>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># Start the Linux bash</span>
 bash
 <span class="c1"># Set the required path</span>
 <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>/c/OSGeo4W64/apps/grass/grass78/scripts:<span class="nv">$HOME</span>/AppData/Roaming/GRASS7/addons/scripts:<span class="nv">$PATH</span>
</pre></div>
</td></tr></table></div>
<p>Now in the command line type in following commands to extract required variables from GLDAS</p>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># To see the metadata run the following command</span>
 gdalinfo GLDAS_NOAH025_3H.A20180606.0000.021.nc4
 <span class="c1"># To import specific humidity</span>
 gdal_translate NETCDF:<span class="s2">&quot;GLDAS_NOAH025_3H.A20180606.0000.021.nc4&quot;</span>:Qair_f_inst GLDAS_NOAH025_3H_20180606_0000_Qair.tif
 <span class="c1"># To import Pressure in Pa</span>
 gdal_translate NETCDF:<span class="s2">&quot;GLDAS_NOAH025_3H.A20180606.0000.021.nc4&quot;</span>:Psurf_f_inst GLDAS_NOAH025_3H_20180606_0000_Psurf.tif
 <span class="c1"># To import air temperature</span>
 gdal_translate NETCDF:<span class="s2">&quot;GLDAS_NOAH025_3H.A20180606.0000.021.nc4&quot;</span>:Tair_f_inst GLDAS_NOAH025_3H_20180606_0000_Tair.tif
 <span class="c1"># To import Wind speed</span>
 gdal_translate NETCDF:<span class="s2">&quot;GLDAS_NOAH025_3H.A20180606.0000.021.nc4&quot;</span>:Wind_f_inst GLDAS_NOAH025_3H_20180606_0000_Wind.tif
 <span class="c1"># To import Short wave downward radiation</span>
 gdal_translate NETCDF:<span class="s2">&quot;GLDAS_NOAH025_3H.A20180606.0000.021.nc4&quot;</span>:SWdown_f_tavg GLDAS_NOAH025_3H_20180606_0000_SWdown.tif
</pre></div>
</td></tr></table></div>
<div class="line-block">
<div class="line">Now we have to import these <code class="docutils literal notranslate"><span class="pre">tif</span></code> files into GRASS GIS</div>
<div class="line">Following commands will import the files into GRASS GIS</div>
</div>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># To import all the above tif files</span>
 r.import.py <span class="nv">in</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Qair.tif <span class="nv">out</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Qair -o --o
 r.import.py <span class="nv">in</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Psurf.tif <span class="nv">out</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Psurf -o --o
 r.import.py <span class="nv">in</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Tair.tif <span class="nv">out</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Tair -o --o
 r.import.py <span class="nv">in</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Wind.tif <span class="nv">out</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_Wind -o --o
 r.import.py <span class="nv">in</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_SWdown.tif <span class="nv">out</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_0000_SWdown -o --o
</pre></div>
</td></tr></table></div>
<div class="line-block">
<div class="line">Now we have to do three major Steps</div>
</div>
<ul class="simple">
<li><p>Convert airtemperature in kelvin to Deg C.</p></li>
<li><p>Convert Pressure in Pa to Milli bar (Mb)</p></li>
<li><p>Convert Specific humidity to relative humidity following the description <a class="reference external" href="https://earthscience.stackexchange.com/questions/2360/how-do-i-convert-specific-humidity-to-relative-humidity/">here</a></p></li>
</ul>
<div class="line-block">
<div class="line">Run the following commands to do the conversions:</div>
</div>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1">## Air temperature</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_0000_Tair_deg = GLDAS_NOAH025_3H_20180606_0000_Tair - 273.15&quot;</span> --o
     <span class="c1">## Pressure convert from pa to mb</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_0000_Psurf_mb = GLDAS_NOAH025_3H_20180606_0000_Psurf / 100&quot;</span> --o
     <span class="c1">## Humidity according to the url: https://earthscience.stackexchange.com/questions/2360/how-do-i-convert-specific-humidity-to-relative-humidity</span>
 <span class="c1"># Saturation vapour pressure</span>
 r.mapcalc <span class="s2">&quot;es = 6.112 * exp((17.67 * GLDAS_NOAH025_3H_20180606_0000_Tair_deg) / (GLDAS_NOAH025_3H_20180606_0000_Tair_deg + 243.5))&quot;</span> --o
 <span class="c1"># vapour pressure</span>
 r.mapcalc <span class="s2">&quot;e = (GLDAS_NOAH025_3H_20180606_0000_Qair * GLDAS_NOAH025_3H_20180606_0000_Psurf_mb) / (0.378 * GLDAS_NOAH025_3H_20180606_0000_Qair + 0.622)&quot;</span> --o
 <span class="c1"># Calculate Relative humidity</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_0000_Rh1 = (e / es) * 100&quot;</span> --o
 <span class="c1"># Remove outliers</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_0000_Rh = float(if(GLDAS_NOAH025_3H_20180606_0000_Rh1 &gt; 100, 100, if(GLDAS_NOAH025_3H_20180606_0000_Rh1 &lt; 0, 0, GLDAS_NOAH025_3H_20180606_0000_Rh1)))&quot;</span> --o
</pre></div>
</td></tr></table></div>
<p>Repeat the above steps for other NC files as well, GLDAS_NOAH025_3H.A20180606.0300.021.nc4, GLDAS_NOAH025_3H.A20180606.0600.021.nc4, GLDAS_NOAH025_3H.A20180606.0900.021.nc4, GLDAS_NOAH025_3H.A20180606.1200.021.nc4, GLDAS_NOAH025_3H.A20180606.1500.021.nc4, GLDAS_NOAH025_3H.A20180606.1800.021.nc4, GLDAS_NOAH025_3H.A20180606.2100.021.nc4</p>
<div class="line-block">
<div class="line">Now let us create instantaneous and daily averages:</div>
<div class="line">For the data in 20180606 follow the commands below in GRASS GIS, For instantaneous we are going to take the data at 0900 hour as Landsat acquisition time is around 8:30.</div>
</div>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1">## Air temperature instantaneous</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_Tair_inst = GLDAS_NOAH025_3H_20180606_0900_Tair_deg&quot;</span>
 <span class="c1">## Shortwave radiation instantaneous</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_SWdown_inst = GLDAS_NOAH025_3H_20180606_0900_SWdown&quot;</span>
 <span class="c1">## Wind speed instantaneous</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_Wind_inst = GLDAS_NOAH025_3H_20180606_0900_Wind&quot;</span>
 <span class="c1">## Relative humidity instantaneous</span>
 r.mapcalc <span class="s2">&quot;GLDAS_NOAH025_3H_20180606_Rh_inst = GLDAS_NOAH025_3H_20180606_0900_Rh&quot;</span>
</pre></div>
</td></tr></table></div>
<div class="line-block">
<div class="line">Next calculate the daily averages</div>
</div>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1">## Air temperature daily average</span>
 <span class="nv">MAPS1</span><span class="o">=</span><span class="sb">`</span>g.list rast <span class="nv">pattern</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_*_Tair_deg$ <span class="nv">sep</span><span class="o">=</span>, <span class="nv">map</span><span class="o">=</span>.<span class="p">|</span>cat<span class="sb">`</span>
 r.series <span class="nv">input</span><span class="o">=</span><span class="si">${</span><span class="nv">MAPS1</span><span class="si">}</span> <span class="nv">output</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_Tair_24 <span class="nv">method</span><span class="o">=</span>average
 <span class="c1">## Short wave radiation daily average</span>
 <span class="nv">MAPS2</span><span class="o">=</span><span class="sb">`</span>g.list rast <span class="nv">pattern</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_*_SWdown$ <span class="nv">sep</span><span class="o">=</span>, <span class="nv">map</span><span class="o">=</span>.<span class="p">|</span>cat<span class="sb">`</span>
 r.series <span class="nv">input</span><span class="o">=</span><span class="si">${</span><span class="nv">MAPS2</span><span class="si">}</span> <span class="nv">output</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_SWdown_24 <span class="nv">method</span><span class="o">=</span>average
 <span class="c1">## Wind daily average</span>
 <span class="nv">MAPS3</span><span class="o">=</span><span class="sb">`</span>g.list rast <span class="nv">pattern</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_*_Wind$ <span class="nv">sep</span><span class="o">=</span>, <span class="nv">map</span><span class="o">=</span>.<span class="p">|</span>cat<span class="sb">`</span>
 r.series <span class="nv">input</span><span class="o">=</span><span class="si">${</span><span class="nv">MAPS3</span><span class="si">}</span> <span class="nv">output</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_Wind_24 <span class="nv">method</span><span class="o">=</span>average
 <span class="c1">## Relative humidity daily average</span>
 <span class="nv">MAPS4</span><span class="o">=</span><span class="sb">`</span>g.list rast <span class="nv">pattern</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_*_Rh$ <span class="nv">sep</span><span class="o">=</span>, <span class="nv">map</span><span class="o">=</span>.<span class="p">|</span>cat<span class="sb">`</span>
 r.series <span class="nv">input</span><span class="o">=</span><span class="si">${</span><span class="nv">MAPS4</span><span class="si">}</span> <span class="nv">output</span><span class="o">=</span>GLDAS_NOAH025_3H_20180606_Rh_24 <span class="nv">method</span><span class="o">=</span>average
</pre></div>
</td></tr></table></div>
<p>Now let us resample the instantaneous and daily averaged to avoid pixel effects</p>
<div class="highlight-Shell notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1">## Set the region with require resolution</span>
 g.region <span class="nv">vect</span><span class="o">=</span>study_area_big <span class="nv">res</span><span class="o">=</span><span class="m">0</span>.0625 -a
 <span class="c1">## For loop to resample all the instantaneous maps</span>
 <span class="k">for</span> i in <span class="sb">`</span>g.list rast <span class="nv">pattern</span><span class="o">=</span>*inst$ <span class="nv">map</span><span class="o">=</span>.<span class="sb">`</span><span class="p">;</span> <span class="k">do</span>
     r.resamp.bspline <span class="nv">in</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span> <span class="nv">out</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>_interp <span class="nv">method</span><span class="o">=</span>bicubic --o
     r.out.gdal <span class="nv">in</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>_interp <span class="nv">out</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>_interp.tif --o
 <span class="k">done</span>
 <span class="c1">## For loop to resample all the daily averages maps</span>
 <span class="k">for</span> i in <span class="sb">`</span>g.list rast <span class="nv">pattern</span><span class="o">=</span>*24$ <span class="nv">map</span><span class="o">=</span>.<span class="sb">`</span><span class="p">;</span> <span class="k">do</span>
     r.resamp.bspline <span class="nv">in</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span> <span class="nv">out</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>_interp <span class="nv">method</span><span class="o">=</span>bicubic --o
     r.out.gdal <span class="nv">in</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>_interp <span class="nv">out</span><span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>_interp.tif --o
 <span class="k">done</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="installation.html" class="btn btn-neutral float-left" title="PySEBAL Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright © 2019 IHE Delft Institute for Water Education

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>